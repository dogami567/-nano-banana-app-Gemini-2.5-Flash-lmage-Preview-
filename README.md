# 🍌 Nano Banana - Gemini双图合成工具

基于 Gemini 2.5 Flash Image API 的专业双图合成应用程序。

## ✨ 功能特性

- **📁 智能图片上传**: 支持拖拽和点击上传，清晰区分左图（图案）和右图（主体）
- **🖼️ 单图/双图模式**: 自动检测上传图片数量，支持单图处理和双图合成
- **📋 键盘粘贴**: 支持 Ctrl+V 快捷粘贴剪贴板中的图片
- **🗑️ 独立清除**: 每张图片都有独立的清除按钮，精确控制
- **🔧 API配置**: 支持API密钥管理和模型选择，可动态获取最新模型列表
- **✍️ 智能提示**: 灵活的prompt输入，支持复杂的合成指令
- **⚡ 实时进度**: 详细的生成进度显示和状态反馈
- **💾 便捷操作**: 支持图片保存和剪贴板复制
- **⌨️ 快捷键**: Escape重置应用，Ctrl+V粘贴提示
- **📱 响应式设计**: 完美适配桌面和移动设备

## 🚀 快速开始

### 1. 本地运行

```bash
# 克隆或下载项目
cd nano-banana-app

# 启动本地服务器
python -m http.server 8000

# 打开浏览器访问
http://localhost:8000
```

### 2. 使用步骤

1. **配置API**: 输入你的 Gemini API Key
2. **选择模型**: 推荐使用 `gemini-2.5-flash-image-preview`
3. **上传图片**: 
   - **单图模式**: 上传一张图片进行编辑处理
   - **双图模式**: 左图（图案/纹理），右图（主体/模特）
   - **快捷上传**: 使用 Ctrl+V 粘贴剪贴板中的图片
4. **输入指令**: 描述你想要的合成或编辑效果
5. **开始生成**: 等待10-15秒即可获得结果
6. **保存结果**: 支持直接保存或复制到剪贴板

### 3. API密钥获取

1. 访问 [Google AI Studio](https://aistudio.google.com/)
2. 登录并创建新的API密钥
3. 将密钥粘贴到应用的API配置中

## 🛠️ 技术架构

### 前端技术栈
- **HTML5**: 现代语义化标记
- **CSS3**: 响应式布局和美观界面
- **JavaScript ES6+**: 模块化架构和现代特性
- **Canvas API**: 图像处理和预览
- **Fetch API**: HTTP请求处理

### 项目结构
```
nano-banana-app/
├── index.html          # 主应用页面
├── test.html           # 功能测试页面
├── styles.css          # 样式文件
├── script.js           # 主应用逻辑
├── api.js              # API调用模块
├── utils.js            # 工具函数库
├── CLAUDE.md           # 开发规范
└── README.md           # 项目文档
```

## 📊 API使用情况

### 支持的模型
- `gemini-2.5-flash-image-preview` (推荐)
- `gemini-2.0-flash`
- `gemini-1.5-flash`
- `gemini-1.5-pro`

### 性能指标
- **平均生成时间**: 8-13秒
- **支持图片格式**: JPG, PNG, WebP, GIF
- **最大文件大小**: 10MB
- **输出分辨率**: 832x1248 (约1MP)

## 🧪 功能测试

访问 `test.html` 进行功能验证：

```bash
http://localhost:8000/test.html
```

测试覆盖：
- ✅ 工具函数验证
- ✅ API密钥验证
- ✅ 文件处理测试
- ✅ UI交互测试
- ✅ 完整流程测试

## 💡 使用技巧

### 快捷键操作
- **Ctrl+V**: 粘贴剪贴板中的图片
- **Escape**: 重置应用（清除所有内容）
- **🗑️ 按钮**: 独立清除左图或右图

### 最佳实践
1. **图片质量**: 使用清晰、高质量的原图
2. **提示词**: 详细描述期望的合成效果
3. **图片搭配**: 确保左图图案与右图主体风格匹配
4. **模式选择**: 单图适合编辑，双图适合合成
5. **网络环境**: 确保网络连接稳定，避免请求超时

### 常见问题
- **生成失败**: 检查API密钥有效性和网络连接
- **结果不理想**: 尝试调整提示词描述
- **文件过大**: 压缩图片到10MB以内
- **加载缓慢**: 检查图片大小和网络状况

## 🔒 安全说明

- API密钥存储在本地localStorage中
- 不会上传图片到第三方服务器
- 所有处理都在客户端完成
- 建议定期更换API密钥

## 📈 性能优化

- 图片自动压缩和格式优化
- 请求防抖和重复请求保护
- 内存管理和资源清理
- 响应式加载和渐进式增强

## 🤝 贡献指南

本项目遵循 CLAUDE.md 中的开发规范：
- KISS原则：保持代码简单
- YAGNI原则：只实现必要功能
- SOLID原则：面向对象设计
- 完整实现：禁止使用占位符

## 📄 许可证

MIT License - 可自由使用和修改

## 🙏 致谢

- Google Gemini AI Team
- 所有测试用户和贡献者

---

**Powered by Gemini 2.5 Flash Image API** 🚀